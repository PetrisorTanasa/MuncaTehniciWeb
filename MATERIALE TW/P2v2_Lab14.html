<!DOCTYPE html>
<html>
    <head>
        <style>
            .patrat{
                border-style: solid;
                width: 20px;
                height: 20px;
                background-color: green;
            }

        </style>
    </head>
    <body onload="creare()">
        <script>

            let N
            function creare(){
                let N = Math.random()*10
                while(N<5 || N>10){
                    N =  Math.random()*10    
                }

                let x=0;

                for(let i=0;i<N;i++){
                    let div = document.createElement('div')

                    div.className = 'patrat'
                    div.addEventListener('click',miscare)
                    
                    div.style.position = 'absolute'

                    div.style.top = x + "px"
                    x += 25

                    document.body.appendChild(div)
                }
                function miscare(e){
                    e.stopPropagation()

                    let divu = this
    
                    let poz = window.getComputedStyle(divu).getPropertyValue('left')
    
                    poz = poz.slice(0,-2)
    
                    poz = parseFloat(poz)
    
                    poz += 10
    
                    divu.style.left = poz+"px"
                }
                document.addEventListener('click',teleportare)
                function teleportare(e){
                    let ghe = Math.random()*N

                    ghe = Math.floor(ghe)

                    let divu = document.getElementsByClassName('patrat')[ghe]

                    divu.style.left = e.clientX + 'px'
                    divu.style.top = e.clientY + 'px'
                }
            }
        </script>
    </body>
</html>